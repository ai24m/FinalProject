<div class="container-fluid" style="background-color: #ffcd70;">

  <main class="tm-main" >
      <!-- Search form -->
      <img class="background" src="assets/images/background.png">
      <h2 class="featured">Support Your Local Farmer's Markets</h2>
      <div class="row tm-row" >
          <div class="col-12">
            <div class="col-12">
              <!-- add search functions here ? -->
              <hr class="tm-hr-primary" />
              <div class="input-group mb-3">
                <button
                  class="btn btn-#526E2A"
                  type="button"
                  name="keySearch"
                  id="button-addon1">
                  Search
                </button>
                <input
                  type="text"
                  class="form-control"
                  [(ngModel)]="keyword"
                  placeholder="Find by city, state, name . . . "
                  aria-label="Example text with button addon"
                  aria-describedby="button-addon1"
                />
              </div>
            </div>
            <!-- add search functions here ? -->
          </div>
      </div>

      <div class="row tm-row"  style="margin-left: .1%;" >
          <article class="col-12 col-md-6 tm-post" *ngFor="let market of markets | homeSearch: keyword;">
              <hr class="tm-hr-primary">
              <a [routerLink]="['/markets/', market.id]" class="effect-lily tm-post-link tm-pt-60">
                  <div class="tm-post-link-inner">
                    <!-- right now images are hard coded, need to insert into database -->
                    <img src={{market.imageUrl}} alt="Image" class="img-fluid">
                  </div>
                  <span class="position-absolute tm-new-badge">New</span>
                  <h2 class="tm-pt-30 tm-color-primary tm-post-title">{{market.name}}</h2>
                </a>
                <p class="tm-color-primary">{{market.description}}</p>
              <div class="d-flex justify-content-between tm-pt-45">
                  <span class="tm-color-primary"> Location: {{market.address.city}}, {{market.address.state}}</span>
                  <span class="tm-color-primary"> Date:  {{market.marketDate}}</span>
              </div>
              <hr>
              <div class="d-flex justify-content-between">
                  <span>Organizer: {{market.user?.username}}</span>
              </div>
          </article>
      </div>
    <footer class="row tm-row"></footer>
  </main>
</div>
