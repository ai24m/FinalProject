<div *ngIf="!selected && !hide">
  <hr class="tm-hr-primary tm-mb-45" />
  <div class="tm-comment tm-mb-45" *ngFor="let mc of marketComments">
    <figure class="tm-comment-figure">
      <img
        src="/assets/images/profile/mushroom.png"
        style="width: 20%; height: 20%"
        alt="Image"
        class="mb-2 rounded-circle img-thumbnail"
      />
      <figcaption style="display: inline" class="tm-color-primary text-center">
        {{ mc.user?.username }}
      </figcaption>
    </figure>
    <div>
      <span
        style="color: black; font-weight: bold; font-size: 110%"
        class="d-block text-right tm-color-primary"
        ><span
          style="font-weight: bold; font-size: 120%; color: rgb(26, 26, 92)"
          >Posted:</span
        >
        {{ mc.updated | date: "medium" }}</span
      >
      <hr class="tm-hr-primary tm-mb-45" />
      <p
        style="color: black; font-weight: bold; font-size: 110%"
        (click)="displayMarketComment(mc); hide = true"
      >
        {{ mc.comment }}
      </p>
      <div class="d-flex justify-content-between"></div>
    </div>
  </div>
</div>
<form action="" class="mb-5 tm-comment-form" *ngIf="!selected">
  <h2 class="tm-color-primary tm-post-title mb-4">Add comment</h2>
  <div class="mb-4">
    <input
      class="form-control"
      name="comment"
      [(ngModel)]="newMarketCommet.comment"
      type="text"
    />
  </div>
  <div class="text-right">
    <button
      class="tm-btn tm-btn-primary tm-btn-small"
      value="Add"
      (click)="addANewMarketComment(market.id, newMarketCommet); this.reload()"
    >
      Submit
    </button>
  </div>
</form>
<form action="" class="mb-5 tm-comment-form" *ngIf="selected">
  <figure class="tm-comment-figure">
    <img
      src="/assets/images/profile/mushroom.png"
      style="width: 20%; height: 20%"
      alt="Image"
      class="mb-2 rounded-circle img-thumbnail"
    />
    <figcaption style="display: inline" class="tm-color-primary text-center">
      {{ selected.user?.username }}
    </figcaption>
  </figure>
  <div>
    <span
      style="color: black; font-weight: bold; font-size: 110%"
      class="d-block text-right tm-color-primary"
      ><span style="font-weight: bold; font-size: 120%; color: rgb(26, 26, 92)"
        >Posted:</span
      >
      {{ selected.updated | date: "medium" }}</span
    >
    <hr class="tm-hr-primary tm-mb-45" />
    <p style="color: black; font-weight: bold; font-size: 110%">
      {{ selected.comment }}
    </p>
  </div>

  <!-- <div class="mb-4">
    <input
      class="form-control"
      name="comment"
      [(ngModel)]="newMarketCommet.comment"
      type="text"
    />
  </div> -->
  <div class="text-right">
    <!-- <button
      class="tm-btn tm-btn-primary tm-btn-small"
      value="Add"
      (click)="
        addAMarketCommentReply(selected.id, newMarketCommet);
        selected = null;
        hide = !hide
      "
    >
      Reply
    </button> -->
  </div>
  <div class="text-right" style="margin-top: 3%">
    <input
      class="tm-btn tm-btn-primary tm-btn-small"
      type="button"
      value="Delete"
      (click)="deletedMarketComment(selected.id); selected = null; hide = !hide"
    />
    <input
      style="display: inline"
      class="tm-btn tm-btn-primary tm-btn-small"
      type="button"
      value="Return"
      (click)="selected = null; hide = !hide"
    />
  </div>
</form>
<form name="deletePR" *ngIf="selected && showDelete === true">
  <figure class="tm-comment-figure">
    <img
      src="/assets/images/profile/mushroom.png"
      alt="Image"
      class="mb-2 rounded-circle img-thumbnail"
    />
    <figcaption class="tm-color-primary text-center">
      User:<br />
      {{ selected.user?.username }}
    </figcaption>
  </figure>
</form>
